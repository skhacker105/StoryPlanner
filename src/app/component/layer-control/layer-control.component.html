
<div class="movie-control-container" *ngIf="movieService.movie">

    <div class="action-buttons">
        <div class="time">
            <pre class="time-display">{{ timelineService.currentTime.value | spacePadded:4 }}</pre>
        </div>

        <div class="spacer"></div>
        
        <!-- Download -->
        <button mat-icon-button color="primary">
            <mat-icon>download_2</mat-icon>
        </button>

        <!-- Upload -->
        <button mat-icon-button color="primary">
            <mat-icon>upload_2</mat-icon>
        </button>
    </div>

    <div class="movie-time-layers" *ngIf="movieService.movie.timeline[currentTime]">
        <mat-divider></mat-divider>
        
        @for (layer of movieService.movie.timeline[currentTime].layers; track layer;) {
            <app-layer-display [layer]="layer" [isSelected]="compareSelectedLayer(layer)"
            (onCLick)="handleLayerClick(layer)" (onDelete)="handleDeleteConfirmationPopup(layer)">
            </app-layer-display>
        }
    </div>

    <div class="layer-option" *ngIf="selectedLayer">
        <app-popup-header title="Properties" (onCloseTrigger)="resetSelectedLayer()">
        </app-popup-header>
        <div class="layer-list-container">
            <app-layer-properties [layer]="selectedLayer"
            (onCancel)="resetSelectedLayer()"
            (onSave)="handleUpdateLayer($event)">
            </app-layer-properties>
        </div>
    </div>
</div>