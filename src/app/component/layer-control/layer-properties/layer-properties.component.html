<mat-tab-group animationDuration="500ms" class="control-tab-group" *ngIf="layer" [(selectedIndex)]="selectedTabIndex">

        <!--  Styles-->
        @if (styleIsVisible) {
            <mat-tab label="Styles">
                <app-styles
                    [time]="time"
                    [endTime]="endTime"
                    [properties]="layer.properties"
                    [timeMultiplier]="timeMultiplier"
                    [isProjected]="layer.isProjected"
                    (onCancel)="onCancel.emit()"
                    (onSave)="onStyleSave.emit($event)">
                </app-styles>
            </mat-tab>
        }

        <!--  Animations-->
        @if (animationIsVisible) {
            <mat-tab label="Animations">
                <app-animations
                    [time]="time"
                    [endTime]="endTime"
                    [existingProperties]="layer.properties"
                    [animation]="layer.animation"
                    [isProjected]="layer.isProjected"
                    [timeMultiplier]="timeMultiplier"
                    (onCancel)="onCancel.emit()"
                    (onSave)="onAnimationSave.emit($event)"
                    (onRemoveAnimation)="onAnimationSave.emit(undefined)">
                </app-animations>
            </mat-tab>
        }

        <!-- Media -->
        @if (mediaIsVisible) {
            <mat-tab label="Media">
                <app-media
                    [time]="time"
                    [media]="layer.media"
                    [isProjected]="layer.isProjected"
                    [mediaLength]="movieService.dictionaryMemberBook[layer.memberId].options[layer.memberOptionId].length"
                    (onRemoveMedia)="onMediaSave.emit(undefined)"
                    (onCancel)="onCancel.emit()"
                    (onSave)="onMediaSave.emit($event)">
                </app-media>
            </mat-tab>
        }

        <!-- Repeat -->
        @if (repeatIsVisible) {
            <mat-tab label="Repeat">
                <app-repeat
                    [time]="time"
                    [layerId]="layer.layerId"
                    [existingProperties]="layer.properties"
                    [repeating]="layer.repeating"
                    [isProjected]="layer.isProjected"
                    (onCancel)="onCancel.emit()"
                    (onSave)="onRepeatSave.emit($event)"
                    (onRemoveRepeating)="onRepeatSave.emit(undefined)">>
                </app-repeat>
            </mat-tab>
        }
</mat-tab-group>